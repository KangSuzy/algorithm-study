N, M = map(int, input().split())
paper = [list(map(int, input().split())) for _ in range(N)]
# 가로, 세로 좌표를 그냥 다 찍어버림
# 뭔가 이렇게 살면 안 될 것 같지만..
tetromino = [
  [(0, 0), (0, 1), (1, 0), (1, 1)],
  [(0, 0), (0, 1), (0, 2), (0, 3)],
  [(0, 0), (1, 0), (2, 0), (3, 0)],
  [(0, 0), (0, 1), (0, 2), (1, 0)],
  [(0, 0), (0, 1), (0, 2), (-1, 2)],
  [(0, 0), (1, 0), (1, 1), (1, 2)],
  [(0, 0), (0, 1), (0, 2), (1, 2)],
  [(0, 0), (1, 0), (2, 0), (2, 1)],
  [(0, 0), (0, 1), (1, 1), (2, 1)],
  [(0, 0), (0, 1), (1, 0), (2, 0)],
  [(0, 0), (1, 0), (2, 0), (2, -1)],
  [(0, 0), (1, 0), (1, 1), (2, 1)],
  [(0, 0), (0, 1), (1, 0), (-1, 1)],
  [(0, 0), (0, 1), (1, 0), (1, -1)],
  [(0, 0), (0, 1), (1, 1), (1, 2)],
  [(0, 0), (0, 1), (0, 2), (1, 1)],
  [(0, 0), (1, 0), (1, 1), (1, -1)],
  [(0, 0), (1, 0), (2, 0), (1, -1)],
  [(0, 0), (1, 0), (1, 1), (2, 0)]
]

res = []
for i in range(N):
  for j in range(M):
    for t in tetromino:
      tmp = 0
      for x, y in t:
        try:
          tmp += paper[i + x][j + y]
        except:
          break
      else:
        res.append(tmp)
print(max(res))